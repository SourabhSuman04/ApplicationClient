<div class="user-details-container">
  <div class="form-card">
    <div class="form-header">
      <h2>{{ isEditMode ? 'Edit User Details' : 'Add New User' }}</h2>
      <p>{{ isEditMode ? 'Update user information' : 'Enter user details to create a new account' }}</p>
    </div>

    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="form-section">
        <h3>Personal Information</h3>

        <div class="form-row">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" id="firstName" formControlName="firstName" placeholder="Enter first name">

          </div>

          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" id="lastName" formControlName="lastName" placeholder="Enter last name">

          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" formControlName="email" placeholder="Enter email address">

          </div>

          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" formControlName="phone" placeholder="Enter phone number">
            <!-- <div *ngIf="submitted && f.phone.errors" class="error-message">
                <span *ngIf="f.phone.errors.required">Phone number is required</span>
                <span *ngIf="f.phone.errors.pattern">Please enter a valid phone number</span>
              </div> -->
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="dateOfBirth">Date of Birth</label>
            <input type="date" id="dateOfBirth" formControlName="dateOfBirth">

          </div>

          <div class="form-group">
            <label for="gender">Gender</label>
            <select id="gender" formControlName="gender">
              <option value="">Select gender</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
              <option value="other">Other</option>
              <option value="prefer-not-to-say">Prefer not to say</option>
            </select>
            <!-- <div *ngIf="submitted && f.gender.errors" class="error-message">
                <span *ngIf="f.gender.errors.required">Gender is required</span>
              </div> -->
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3>Address Information</h3>

        <div class="form-group">
          <label for="address">Street Address</label>
          <input type="text" id="address" formControlName="address" placeholder="Enter street address">
          <!-- <div *ngIf="submitted && f.address.errors" class="error-message">
              <span *ngIf="f.address.errors.required">Address is required</span>
            </div> -->
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="city">City</label>
            <input type="text" id="city" formControlName="city" placeholder="Enter city">
            <!-- <div *ngIf="submitted && f.city.errors" class="error-message">
                <span *ngIf="f.city.errors.required">City is required</span>
              </div> -->
          </div>

          <div class="form-group">
            <label for="state">State/Province</label>
            <input type="text" id="state" formControlName="state" placeholder="Enter state or province">
            <!-- <div *ngIf="submitted && f.state.errors" class="error-message">
                <span *ngIf="f.state.errors.required">State is required</span>
              </div> -->
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="zipCode">Zip/Postal Code</label>
            <input type="text" id="zipCode" formControlName="zipCode" placeholder="Enter zip code">
            <!-- <div *ngIf="submitted && f.zipCode.errors" class="error-message">
                <span *ngIf="f.zipCode.errors.required">Zip code is required</span>
              </div> -->
          </div>

          <div class="form-group">
            <label for="country">Country</label>
            <select id="country" formControlName="country">
              <option value="">Select country</option>
              <option value="us">United States</option>
              <option value="ca">Canada</option>
              <option value="uk">United Kingdom</option>
              <option value="au">Australia</option>
              <!-- Add more countries as needed -->
            </select>
            <!-- <div *ngIf="submitted && f.country.errors" class="error-message">
                <span *ngIf="f.country.errors.required">Country is required</span>
              </div> -->
          </div>


        </div>
        <div class="form-row">
          <div class="form-group">
          
            <label for="file">Upload Image</label>
            <app-loader *ngIf="isLoading" [type]="'progress'" [progress]="uploadProgress" [text]="'Uploading file...'">
            </app-loader>
            <input type="file" id="file" (change)="onFileSelected($event)" accept="image/*" class="form-control">
          </div>
        </div>

      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-outline" (click)="onCancel()">Cancel</button>
        <button type="submit" class="btn btn-primary">
          <app-button-loader *ngIf="isLoading"></app-button-loader>
          <span *ngIf="!isLoading">{{ isEditMode ? 'Update User' : 'Create User' }}</span> </button>
      </div>
    </form>
  </div>
</div>